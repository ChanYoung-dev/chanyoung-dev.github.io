---
permalink: /Web/Frontend/Javascript/NotionInHTML/
title: "notion pageë¥¼ ì›¹ì‚¬ì´íŠ¸ì— ì‚½ì…í•˜ê¸°"
toc: true
categories:
  - WebğŸ®Frontend
comments: true
sidebar:
  - title: "WebğŸ®"
  - nav: "Web-menu"
tags:
  - Javascript
  - notion
  - python

---


# What?

í¬íŠ¸í´ë¦¬ì˜¤ë¡œ ì‚¬ìš©í•˜ëŠ” [ì›¹ì‚¬ì´íŠ¸](https://chanyoung-dev.github.io/Profile)ê°€ ìˆë‹¤. 

ì´ ì›¹ì‚¬ì´íŠ¸ì—

- [ë…¸ì…˜ìœ¼ë¡œ ë§Œë“  í˜ì´ì§€](https://www.notion.so/d23d460f2e554944bf60448e47f982ef?v=276ea58f112f4444adce1478ec19a31b)

ìœ„ í˜ì´ì§€ë¥¼ ë„£ìœ¼ë ¤ í•œë‹¤. ë‹¨ìˆœíˆ í˜ì´ì§€ë§Œ ë„£ëŠ”ê²Œ ì•„ë‹ˆë¼ ë…¸ì…˜í˜ì´ì§€ ì•ˆì— ìˆëŠ” ë‹¤ì–‘í•œ ë…¸ì…˜ë§í¬ë“¤ë„ í”„ë ˆì„ì•ˆì—ì„œ ë™ì‘í•˜ë„ë¡ êµ¬ì„±í•œë‹¤.


{% include video id="qCb96cl0Z4E" provider="youtube" %}

ì´ëŸ°ì‹ìœ¼ë¡œ ì›¹ì— notion í˜ì´ì§€ë¥¼ ë„£ì–´ë³´ì

ì‹¤í–‰í•˜ê¸°ì— ì•ì„œ ì¥ì ê³¼ ë‹¨ì ë“¤ì´ ëª…í™•í•˜ë‹¤

### ì¥ì 

- ë…¸ì…˜ì˜ í¸ë¦¬í•œ ê¸°ëŠ¥ë“¤ì„ ì–´ëŠ í˜ì´ì§€ì—ì„œë‚˜ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- ë…¸ì…˜í˜ì´ì§€ í•œê°œ ë¿ë§Œ ì•„ë‹ˆë¼ í˜ì´ì§€ì•ˆì—ì„œì˜ ë…¸ì…˜í˜ì´ì§€ë“¤ë„ ìƒí˜¸ì‘ìš©í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤

### ë‹¨ì 

- ë…¸ì…˜ í˜ì´ì§€ì˜ ì´ë¦„ì€ ì˜ì–´ë¡œ ë˜ì–´ì•¼í•œë‹¤
- ë…¸ì…˜ í˜ì´ì§€ì˜ ë§í¬ë“¤ì€ ë¶ë§ˆí¬ë¡œ ìƒì„±ë˜ì–´ì•¼í•œë‹¤
    - ë©˜ì…˜, ë¯¸ë¦¬ë³´ê¸°ë¡œ ë§í¬ë¥¼ ë„£ìœ¼ë©´ `<a>`  ë§í¬ê°€ ë™ì‘í•˜ì§€ì•ŠëŠ”ë‹¤
- code highlightê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤
- ë…¸ì…˜í˜ì´ì§€ê°€ ì•„ë‹Œ ì™¸ë¶€ì‚¬ì´íŠ¸ëŠ” ì „ì²´í™”ë©´ìœ¼ë¡œ ë‚˜íƒ€ë‚œë‹¤

# In notion

ë„£ëŠ” ë°©ë²•ì€ ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ì„ ì´ìš©í•œë‹¤

![Untitled]({{site.baseurl}}/assets/images/Web/Untitled.png){: .align-center}

ë‚´ë³´ë‚´ê¸°ì—ì„œëŠ” PDF, HTML, Markdown ì´ ìˆëŠ”ë° í™ˆí˜ì´ì§€ì— ì´ìš©í•˜ê¸°ìœ„í•´ì„œëŠ” `HTML`ì„ ì‚¬ìš©í•´ì¤€ë‹¤


ğŸ’¡ ì£¼ì˜í• ì ì€ í˜ì´ì§€ ì•ˆì— ìˆëŠ” ë§í¬ë“¤ì˜ ì œëª©ì€ ì „ë¶€ ì˜ì–´ë¡œ ë˜ì–´ì•¼ í•œë‹¤. ì•ˆì— ìˆëŠ” ë‚´ìš©ì€ ì˜ì–´ë“  í•œê¸€ì´ë“  ìƒê´€ì—†ë‹¤.
{: .notice--info}

íŒŒì¼ì„ ë‹¤ìš´ë°›ê³  ì••ì¶•ì„ í’€ë©´ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì´ ëœ¬ë‹¤

![Untitled1]({{site.baseurl}}/assets/images/Web/Untitled1.png){: .align-center}

ì—¬ê¸°ì„œ 

- `hellodev ~ . html`  : ì²˜ìŒ ë…¸ì…˜í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” html

- `hellodev ~982ef` ë””ë ‰í† ë¦¬ : `hellodev ~ . html`  ì•ˆì— ìˆëŠ” ë…¸ì…˜í˜ì´ì§€ë“¤ì˜ ë§í¬ë“¤ htmlê³¼ ì´ë¯¸ì§€ íŒŒì¼ë“¤ì´ ìˆë‹¤.

ì´ íŒŒì¼ë“¤ì„ ì›¹ì‚¬ì´íŠ¸ íŒŒì¼ì•ˆìœ¼ë¡œ ì˜®ê¸°ì


ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤


# HTML

ì´ì œ ì´ htmlë“¤ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ htmlì½”ë“œë¥¼ ì§œë³´ì

```html
<embed id="htmlbox" src="hellodev d23d460f2e554944bf60448e47f982ef.html" width="100%" height="1000px"/>
<button class="backbtn" onclick="history.back()">ë’¤ë¡œ ê°€ê¸°</button>
```

- `embed`ì™€ `iframe` ì°¨ì´
    - ë…¸ì…˜í˜ì´ì§€ ì•ˆì—ì„œ ë…¸ì…˜í˜ì´ì§€ ë§í¬ë¥¼ í´ë¦­ì‹œ
        - `embed` : í”„ë ˆì„ ì•ˆì—ì„œ ë…¸ì…˜í˜ì´ì§€ê°€ ë³´ì—¬ì§„ë‹¤
        - `iframe` : ì „ì²´í™”ë©´ìœ¼ë¡œ ë…¸ì…˜í˜ì´ì§€ê°€ ë³´ì—¬ì§„ë‹¤
    - ë…¸ì…˜í˜ì´ì§€ ì•ˆì—ì„œ ì™¸ë¶€ ì›¹ ë§í¬ë¥¼ í´ë¦­ì‹œ
        - `embed`: ì ‘ì†ë˜ì§€ì•ŠëŠ”ë‹¤ â†’ ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ì•„ë˜ì˜ `javascript` ë¥¼ ì´ìš©í•œë‹¤
        - `iframe`: ì „ì²´í™”ë©´ìœ¼ë¡œ ì™¸ë¶€ ì›¹ì´ ë³´ì—¬ì§„ë‹¤
- ë’¤ë¡œê°€ê¸° ë²„íŠ¼
    - `embed`í”„ë ˆì„ì´ë‚˜ `iframe`í”„ë ˆì„ì—ì„œëŠ” ë’¤ë¡œê°€ê¸° ë²„íŠ¼ì´ ì—†ê¸°ë•Œë¬¸ì— ì…€í”„ë¡œ ë’¤ë¡œ ê°€ê¸°ë²„íŠ¼ì„ ë§Œë“¤ì—ˆë‹¤.

# Javascript

ì•„ë˜ì˜ íŒŒì¼ë“¤ì„ ë§Œë“¤ì–´ì„œ ì›¹í˜ì´ì§€ê°€ ìˆëŠ” íŒŒì¼ê²½ë¡œì— ë„£ì–´ì¤€ë‹¤

`embed_main.js` : ì²« ë…¸ì…˜í˜ì´ì§€ë¥¼ ìœ„í•œ jsíŒŒì¼

```jsx

const atags = document.querySelectorAll('a');
atags.forEach( (atag) => {
    check_href = atag.getAttribute("href")
    // Show External URL in New tab
		// ì™¸ë¶€ë§í¬ëŠ” í”„ë ˆì„ì•ˆì—ì„œ ë™ì‘ì„ ëª»í•˜ê¸°ë•Œë¬¸ì— parentë¶€ë¶„ì—ì„œ ì—´ì–´ì£¼ë„ë¡í•œë‹¤
    if (check_href.startsWith("http") == true){
        atag.setAttribute("target", "_parent");
    }
    else{
				// ì²« ë…¸ì…˜í˜ì´ì§€ì¼ì‹œ ë’¤ë¡œê°€ê¸°ë²„íŠ¼ ë¹„í™œì„±í™”
        sendRemoveBtnToParent('unvisible');
        // Show button
				// ë‹¤ë¥¸ ë…¸ì…˜í˜ì´ì§€ ë§í¬ í´ë¦­ì‹œ
				// ë’¤ë¡œê°€ê¸°ë²„íŠ¼ì´ ë‚˜íƒ€ë‚œë‹¤
        atag.addEventListener( 'click', function( e ) {
            sendShowBtnToParent( 'visible' );
        });
    }
});

// Post Message to Parent
// ë’¤ë¡œê°€ê¸° ë²„íŠ¼ ë³´ì—¬ì£¼ê¸°
function sendShowBtnToParent( msg ) {
    window.parent.postMessage( msg, '*' );
}
// ë’¤ë¡œê°€ê¸° ë²„íŠ¼ ê°€ë¦¬ê¸°
function sendRemoveBtnToParent( msg ) {
    window.parent.postMessage( msg, '*' );
}
```

- - -


ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤


`embed_sub.js` : ì²« ë…¸ì…˜í˜ì´ì§€ ì•ˆì— ìˆëŠ” ë…¸ì…˜ í˜ì´ì§€ë¥¼ ìœ„í•œ javascript

![notionlist]({{site.baseurl}}/assets/images/Web/notionlist.png){: .align-center}
<figcaption align="center">ë…¸ì…˜ì•ˆì— ìˆëŠ” ë…¸ì…˜í˜ì´ì§€ ë§í¬ë“¤</figcaption>
```jsx

// Show GoBackPage Button
// ë’¤ë¡œê°€ê¸° ë²„íŠ¼ í™œì„±í™”
sendShowBtnToParent( 'visible' );

const atags = document.querySelectorAll('a');
atags.forEach( (atag) => {
    check_href = atag.getAttribute("href");
    // Show External URL in New tab
		// ì™¸ë¶€ë§í¬ëŠ” í”„ë ˆì„ì•ˆì—ì„œ ë™ì‘ì„ ëª»í•˜ê¸°ë•Œë¬¸ì— parentë¶€ë¶„ì—ì„œ ì—´ì–´ì£¼ë„ë¡í•œë‹¤
    if (check_href.startsWith("http") == true){
        atag.setAttribute("target", "_parent");
    }
});

// ë’¤ë¡œê°€ê¸° ë²„íŠ¼ ë³´ì—¬ì£¼ê¸°
function sendShowBtnToParent( msg ) {
    window.parent.postMessage( msg, '*' );
}
```

ì—¬ê¸°ì„œëŠ” index.html(parent) ê³¼ ë…¸ì…˜í˜ì´ì§€html(child,`<embed>`)ê°€ ì„œë¡œ í†µì‹ í•˜ê¸° ìœ„í•´ [postMessage](https://developer.mozilla.org/ko/docs/Web/API/Window/postMessage)ë¥¼ ì‚¬ìš©í•œë‹¤ 


ğŸ’¡ postMessage - iframe, youtubeë“± í”„ë ˆì„ê³¼ ë¶€ëª¨ í”„ë ˆì„ê³¼ í†µì‹ í•˜ëŠ” ë°©ë²•ì´ë‹¤
{: .notice--info}


ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤


# Python - ìë™í™”

ë…¸ì…˜ì—ì„œ ë‹¤ìš´ë¡œë“œ ë°›ì€ htmlíŒŒì¼ë“¤ ì•ˆì—ì„œ ìœ„ì—ì„œ ë§Œë“  ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì—°ë™ì‹œì¼œì•¼í•œë‹¤.

ì²«í™”ë©´ì— ì“°ì¼ ì²« ë…¸ì…˜í˜ì´ì§€ htmlì„ ë“¤ì–´ê°€ë³´ì

```jsx
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>hellodev</title><style>
```

ì—¬ê¸°ì„œ headë’¤ì— `<script src="embed-main.js" defer></script><link rel="stylesheet" href="notion-mainstyle.css" />` ë¥¼ ë„£ì–´ì¤€ë‹¤

ì¦‰,  
```jsx
<html><head><script src="embed-main.js" defer></script><link rel="stylesheet" href="notion-mainstyle.css" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>hellodev</title><style>
```
ì´ë ‡ê²Œ ë§Œë“ ë‹¤

- `notion-mainstyle.css` ì´ íŒŒì¼ì€ ê°œì¸ì ìœ¼ë¡œ ë…¸ì…˜í˜ì´ì§€ë¥¼ ì»¤ìŠ¤í…€í•˜ê¸°ìœ„í•´ ë§Œë“¤ì—ˆë‹¤

- ì»¤ìŠ¤í…€í•  í•„ìš”ê°€ ì—†ìœ¼ë©´ `<link rel="stylesheet" href="notion-mainstyle.css" />` ë¥¼ ì§€ì›Œì£¼ë©´ ëœë‹¤.

- - -

ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤


ì²«í˜ì´ì§€ë¥¼ ìœ„í•œ html ì‘ì—…ì€ ëë‚¬ì§€ë§Œ

ë…¸ì…˜í˜ì´ì§€ì•ˆì— ìˆëŠ” ë…¸ì…˜í˜ì´ì§€ë¥¼ ìœ„í•œ js(`embed_sub.js`)ë¥¼ ì—°ë™ì‹œì¼œì•¼í•œë‹¤

![notionlist]({{site.baseurl}}/assets/images/Web/notionlist.png){: .align-center}
<figcaption align="center">ë„¤ëª¨ì•ˆì— ìˆëŠ” í˜ì´ì§€ë“¤ì— ëŒ€í•œ htmlíŒŒì¼ì„ ìˆ˜ì •í•´ì•¼í•œë‹¤</figcaption>



ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤
ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤ã…¤

í•˜ì§€ë§Œ ì €ëŸ° ë§í¬ë“¤ì´ ë§ìœ¼ë©´ `html` í•˜ë‚˜í•˜ë‚˜ ìˆ˜ì •í•˜ê¸°ê°€ ê¹Œë‹¤ë¡­ê³  ì‹œê°„ì´ ë„ˆë¬´ ë§ì´ ì§€ì²´ëœë‹¤

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `python`ìœ¼ë¡œ ìë™í™”ì‹œìŠ¤í…œì„ ë§Œë“ ë‹¤

## script ë„£ëŠ” ì½”ë“œ

```jsx
import numbers
import os
import re

index_num = 12  

//ì‚½ì…í•  í…ìŠ¤íŠ¸
script = '<script src="../embed-sub.js" defer></script><link rel="stylesheet" href="../notion-mainstyle.css" />'

//ì²«ë²ˆì§¸ ì¤„ ì½ê¸°
def read_first_line(file_name):
    with open(file_name) as html_file:
            first_line = html_file.readline()
            return first_line

// íŒŒì¼ì—ì„œ ì›í•˜ëŠ” ì¤„ì— ìˆëŠ” ë‚´ìš©ì„ textë¡œ ë°”ê¾¸ê¸°
def replace_line(file_name, line_num, text):
    lines = open(file_name, 'r').readlines()
    lines[line_num] = text
    out = open(file_name, 'w')
    out.writelines(lines)
    out.close()

// ì²«ë²ˆì§¸ì¤„ì— scriptë¥¼ ë„£ì–´ì¤€ë‹¤
def insert_script_to_firstLine(file_name, script_text):
    with open(file_name, 'r') as html_file:
        first_line = list(html_file.readline())
        first_line.insert(index_num, script_text)
        completed_line = ''.join(first_line)
        replace_line(file_name, 0, completed_line)
    

```

## CSS ë°”ê¾¸ê¸°

```jsx

original_text = """
a,
a.visited {
	color: inherit;
	text-decoration: underline;
}
"""
input_text = """
a,
a.visited {
	color: inherit;
	text-decoration: changed;
}
"""

def replace_paragraph(file_name, original_text, input_text):
    data = open(file_name, 'r').read()
    updated_data = re.sub(original_text, input_text, data)
    with open(file_name, 'w') as out:
        out.write(updated_data)
```

`original_text`ê°€ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  í•´ë‹¹ë¶€ë¶„ì„ `input_text`ë¡œ ë°”ê¾¸ì–´ì¤€ë‹¤

## ì¢…í•©ì½”ë“œ

```jsx
import numbers
import os
import re

index_num = 12  

original_text = """
a,
a.visited {
	color: inherit;
	text-decoration: underline;
}
"""
input_text = """
a,
a.visited {
	color: inherit;
	text-decoration: changed;
}
"""

script = '<script src="../embed-sub.js" defer></script><link rel="stylesheet" href="../notion-mainstyle.css" />'

def insert_script_to_firstLine(file_name, script_text):
    with open(file_name, 'r') as html_file:
        first_line = list(html_file.readline())
        first_line.insert(index_num, script_text)
        completed_line = ''.join(first_line)
        replace_line(file_name, 0, completed_line)
    

def replace_line(file_name, line_num, text):
    lines = open(file_name, 'r').readlines()
    lines[line_num] = text
    out = open(file_name, 'w')
    out.writelines(lines)
    out.close()

def replace_paragraph(file_name, original_text, input_text):
    data = open(file_name, 'r').read()
    updated_data = re.sub(original_text, input_text, data)
    with open(file_name, 'w') as out:
        out.write(updated_data)
    

def read_first_line(file_name):
    with open(file_name) as html_file:
            first_line = html_file.readline()
            return first_line

for f_name in os.listdir('test'):
    if f_name.endswith('html'):
        first_line = read_first_line('./test/' + f_name)
        if script in first_line:
            print(first_line+"ì—ëŠ” " + script + "ê°€ ìˆìŠµë‹ˆë‹¤")
        else:
            insert_script_to_firstLine('./test/' + f_name, script)
        replace_paragraph('./test/' + f_name, original_text, input_text)
```

ìœ„ ì½”ë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ì•„ë˜ì™€ ê°™ì´ ë°”ë€ê±¸ í™•ì¸í• ìˆ˜ ìˆë‹¤

```jsx
<html><head><script src="../embed-sub.js" defer></script><link rel="stylesheet" href="../notion-mainstyle.css" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Spring Component Scan</title><style>
```

ì°¸ê³ ìë£Œ

[[ê°œë°œ] window.postMessageë¥¼ ì´ìš©í•œ iframe í†µì‹ ](https://medium.com/@tamm_/%EA%B0%9C%EB%B0%9C-window-postmessage%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-iframe-%ED%86%B5%EC%8B%A0-a542b8536518)

[iframeê³¼ ë©”ì‹œì§€ ì „ë‹¬](http://blog.302chanwoo.com/2016/08/postmessage/)