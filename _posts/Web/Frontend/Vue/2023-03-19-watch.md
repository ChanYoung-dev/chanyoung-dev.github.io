---
permalink: /Frontend/Vue/watch/
title: "watch"
toc: true
categories:
  - FrontendğŸ®Vue
comments: true
sidebar:
  - title: "FrontendğŸ®"
  - nav: "Frontend-menu"
tags:
  - Javascript
  - Frontend
  - Vue
sexy: 1
main: "Vue"
header:
  teaser: https://markettraders.kr/wp-content/uploads/2021/12/javascript-696x365.jpg
  overlay_image: https://markettraders.kr/wp-content/uploads/2021/12/javascript-696x365.jpg
---


<span style = "font-size:1.5em;  font-weight: 700;">watch</span><br>
`watch` ì‚¬ìš©ë²•, `watch`ì™€ `computed`ì˜ ì°¨ì´
{: .notice--intro}

# watch
## 1. ê¸°ë³¸
`watch(ê°ì‹œí•  ë°ì´í„°, ì½œë°±í•¨ìˆ˜, ê¸°íƒ€ì˜µì…˜(ex.ì¦‰ì‹œì‹¤í–‰))`

```html
{% raw %}
<h1>{{ msg }}</h1>
<input v-model="msg">
{% endraw %}
```

```js
const msg = ref('');
watch(msg, (newValue, oldValue) => {
  // DOM ì¡°ì‘ ~
  // API ~
  // state ë³€ê²½ ~
  console.log('newValue:', newValue);
  console.log('oldValue:', oldValue);
});
```

## 2. getterì™€ watch

```html
<p>
  x:
</p>
<input v-model="x">

<p>
  y:
</p>
<input v-model="y">
```

```js
const x = ref(0);
const y = ref(0);

watch(
  () => x.value + y.value,
  (sum, oldValue) => {
    console.log('sum:', sum);
    console.log('oldValue:', oldValue);
  },
);
```

ì—¬ê¸°ì„œ `sum`ì€? `x.value + y.value`ì´ë‹¤  
ì¦‰, `x.value+y.value`ì´ ê°’ì˜ ê²°ê³¼ ìì²´ê°€ ë³€í™”ê°€ ìˆë‹¤ë©´ ì½œë°±í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤


## 3. í•˜ë‚˜ì”© ì¡°íšŒ => array

```js
watch(
  [x, y],
  ([newX, newY], [oldX, oldY])=>{
    console.log('ê°’ì´ ë³€í™”í–ˆìŠµë‹ˆë‹¤')
    console.log('new:', newX, newY);
    console.log('old:', oldX, oldY);
});
```
`x`ì™€ `y`ê°’ì´ ê°œë³„ì ìœ¼ë¡œ ì¸ì‹ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤	

## 4. objectì™€ watch
objectë¥¼ watchì˜ ê°ì‹œ ëŒ€ìƒë°ì´í„°ë¡œ ì„¤ì •í•´ë³´ì

### ì¤€ë¹„
**object ì„ ì–¸**
```js
const person = reactive({
  name: 'í™ê¸¸ë™',
  age: 30,
  hobby: 'ìš´ë™',
  obj: {
    count: 0,
  },
});
```

---

**ë²„íŠ¼ ì„ ì–¸**
```html
<button @click="countUp">
    person.obj.countUp
</button>
```

```js
const countUp = () => person.obj.count++;
```

### objectë¥¼ ê°ì‹œ ëŒ€ìƒìœ¼ë¡œ í•  ê²½ìš°

`reactive(object)`ë¥¼ ê°ì‹œ ëŒ€ìƒìœ¼ë¡œ í–ˆì„ ê²½ìš°ëŠ” ì •ìƒì ìœ¼ë¡œ ë™ì‘í•œë‹¤
```js
watch(
  person,
  (newValue, oldValue) => {
    console.log('newValue', newValue.obj.count);
    console.log('oldValue', oldValue.obj.count);
  }
);
```
`oldValue`ë‚˜ `newValue`ë‘ê°œ ëª¨ë‘  
ê°™ì€ `Object`ë¥¼ ê°€ë¥´í‚¤ê¸°ë•Œë¬¸ì— ì¶œë ¥ê°’ì´ ì„œë¡œ ë™ì¼í•˜ê²Œ ë‚˜ì˜¨ë‹¤

```sh
//í´ë¦­í•œë²ˆì§¸
newValue 1
oldValue 1

//í´ë¦­ë‘ë²ˆì§¸
newValue 2
oldValue 2
```

### objectì˜ ì†ì„±ê°’ì„ ëŒ€ìƒìœ¼ë¡œ í•  ê²½ìš°
```js
watch(
  person.obj.count,
  (newValue, oldValue) => {
    console.log('newValue', newValue);
    console.log('oldValue', oldValue);
  }
);
```
ë°˜ì‘í•˜ì§€ì•ŠëŠ”ë‹¤.
- `person`ì´ `reactiveê°ì²´`ì´ì§€, `person.obj`ë‚˜ `person.obj.count`ëŠ” `reactiveê°ì²´`ê°€ ì•„ë‹ˆê¸°ë•Œë¬¸ì´ë‹¤

### ê·¸ë ‡ë‹¤ë©´ getterë¥¼ ì‚¬ìš©
**getter**ë¥¼ ì‚¬ìš©í•˜í•´ë³´ì ëŒ€ì‹  `person.obj`ë¡œ í•´ë³´ì
```js
watch(
  () => person.obj,
  (newValue, oldValue) => {
    console.log('newObj', newValue);
    console.log('oldObj', oldValue);
  }
);
```
ë˜ì§€ ì•ŠëŠ”ë‹¤ ì™œëƒí•˜ë©´ **getter**ëŠ” ìµœì¢…ì ì¸ ê°’ë§Œ ì¸ì‹í•œë‹¤. `obj.count`ê°€ ë³€ê²½ë˜ì–´ë„ `obj`ì˜ ìì²´ ì¦‰ ì˜¤ë¸Œì íŠ¸ ê°ì²´ëŠ” ë³€í•¨ì´ ì—†ê¸°ë•Œë¬¸ì´ë‹¤(ì£¼ì†Œì°¸ì¡°ì´ê¸°ë•Œë¬¸)  
ì´ë•ŒëŠ” `person.obj` ìì²´ê°€ ë³€í•´ì•¼í•œë‹¤. 
```js
const person = reactive({
  ...
  obj: {
    count: 0 -> 1
  }
})
// person.obj ê°ì§€ì•ˆë¨

person.obj = "hello"
// ê°ì§€ë¨, objê°€ ë³€ê²½ë˜ì—ˆê¸°ë•Œë¬¸

```
*object ìì²´ë¥¼ ë°”ê¿”ì•¼í•œë‹¤*  
<br>
<br>



`person.obj.count`ë¥¼ `getter`í•˜ë©´ ì˜ˆìƒê³¼ ê°™ì´ ì˜ ë™ì‘í•œë‹¤
```js
watch(
  	() => person.obj.count,
    (newValue, oldValue) => {
      console.log('newObj', newValue);
      console.log('oldObj', oldValue);
    }
  );
```

<span style = "font-size:1.5em;  font-weight: 700;">computed vs watch</span><br>
`computed`ëŠ” `ref`ë‚˜ `reactive`ê°™ì€ Vueë°ì´í„°ë“¤ê³¼ ì¢…ì†ê´€ê³„ë¥¼ ìë™ìœ¼ë¡œ ì„¸íŒ…í•˜ê³ ì í•˜ëŠ”ê²½ìš°<br>
`watch`ëŠ” `ref`ë‚˜ `reactive`ê°™ì€ Vueë°ì´í„°ë“¤ ë³€ê²½ì‹œì ì— íŠ¹ì • ì•¡ì…˜(call api, push route, state)ë¥¼ ì·¨í•˜ê³ ìí• ë•Œ<br>
**ì›¬ë§Œí•˜ë©´ computedë¥¼ ì‚¬ìš©í•˜ì**
{: .notice--info}

# watchEffect
```js
watchEffect(() =>{
    console.log('watchEffect ì‹¤í–‰!');
    console.log('x:', x.value);
    console.log('y:', y.value);
  }
  )
```
`x.value`ë‚˜ `y.value`ì— ë³€í™”ê°€ ìˆìœ¼ë©´ ì½œë°±í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.  


**watch**ì™€ **watchEffect**ì˜ ì°¨ì´ì 
- `watch`ëŠ” ëª…ì‹œì ìœ¼ë¡œ ê´€ì°°í•  ì†ŒìŠ¤ë¥¼ ë‚˜íƒ€ë‚¼ìˆ˜ ìˆë‹¤. ì¦‰ì‹œ ì‹¤í–‰ë˜ì§€ì•ŠëŠ”ë‹¤.  
- `watchEffect`ëŠ” ëª…ì‹œì ìœ¼ë¡œ ê´€ì°°í•  ì†ŒìŠ¤ë¥¼ ë‚˜íƒ€ë‚´ì§€ì•Šê³ , ì½œë°±í•¨ìˆ˜ ì•ˆì— ìˆëŠ” ê°’(`ref`, `reactive`)ë“¤ì˜ ë³€í™”ê°€ ìˆì„ë•Œ ì‹¤í–‰ëœë‹¤. ë˜í•œ, ì¦‰ì‹œ ì‹¤í–‰ëœë‹¤.

<br>
<br>
ì°¸ê³ ìë£Œ: [Vue3 ì™„ë²½ ë§ˆìŠ¤í„°: ê¸°ì´ˆë¶€í„° ì‹¤ì „ê¹Œì§€ - "ê¸°ë³¸í¸"](https://www.inflearn.com/course/vue-%EC%99%84%EB%B2%BD-%EA%B8%B0%EB%B3%B8)



[ì†ŒìŠ¤ì½”ë“œ ë°”ë¡œí™•ì¸í•˜ê¸°](https://sfc.vuejs.org/#eNqtVltPG1cQ/ivTfVkjjDdR31wujdQ+9KFKX1o1YnlYzIJNvd7V7jHYQq4opSkBqpIWg41sRFrSBIkHiziqK9E/tHv2P3TOZS82hqAmINvnMnPOzDffmZkN5ZHj5NaqppJXpr2CW3IIeCapOrN6pWQ5tktgA1xzOQvrBikUszg2CqS0ZsqFz5eXzQKBBiy7tgUqHqTqFfwnBbviEbC8FZhh+hlVnfhEr4DQyuB6FjIVc/0bo1zFs+zyEh9NwMwsbDA5AE2Dzx5/CfRFj54+h+/jxUdffZGaecQgJgRvNv2rf6NldrddNnNleyWjRpfk1SxEY2HKiGBkAxOM7eGCDfHDPprGwUhQKNi25VSJuZSFFZMQ04Ww+ZrutLJguK5RFzpiJ3jRYd6EJ/tsVQBUk/A8EFeIxfrwYgKbsDrDUarl1piFMAl1McrKXa9qjQd0xF+UY67iTwTHvQFBSPhtYqZp9PjSH/TodoedRrubczetE4JA/3oGGbk5KbcmgHb74Pd+o90W+Fc9/8010NMDetX3e5sstGH7kI3o6U6wdx5c9JNgcIyHcdW0sNkKtlr08IKdGbabtDsIm2dBcx/o1iU9uRjFc76WhfpCBN88kuRbTpUnC1mYR8dxht9PFiZmZscjyU3vS0vDox26+zbYY7aqE2Pl8WzJRnnR7QGQ2EsTYvTThLQXV/EJJuxxTNezK5xCgqQZaXXFsMw8qGH7F38wCH5tq9JlYwWXP34gZ0V7cbGOYvSkn5LBS/JpHlUrJA+RiiCDNKpsEjDwdrVYUlPPjAilrx3cEgSOTzNgEsUfRtLCL/YnPMnh3ahkjMcokUGokkmCqKYlqzluw+RkBGMKRMlvJE6cJdjY77WRz/CYYxy8vMaFzeBlP9w6R8IjpYLLAT0+EORlHG77V/vA2Nd6jfEfZppOhCUR0+5Of7eksVQWSzx6xwNOvd+bOhyENJ+CXot2n9PmDiYysbJerM8J05mTEa1wTF9tpoLE8BrFOtg9jBX4G25ui6cxHppE8UOBdH9obgXE/3sQnP0sUs+czPKMCiKbYLbBZCWhOzjz/9mfG/VN8D3x8H/5xl6BKHOyko7zHnl6L9+F3B2eM19aLLy0uYsxROeBtjvBjwcsuV70IxQwuvRth/7xEz37AdMsewfBK8yz3QHd64bNDurlWO5gjwdlxUgEWOZ29IfddITJZlvuszIQIk9+7/BnJUoAFlXk2/HT5Nl1+3h6RghyQ/68pk/3aW/AOoZuPxbEHDwmju+K0fux8IPFITZTNFoZbqa8duiwdDdG987Do2cfxTwZEqyxkiIr8FiBOhOISrPof7g9emVaEx0i9oY4IabllLH5whnAdPHh7MYG7/cajWkNZ3y1VMHeCNamLHvJLM/oCu7rCt/i26zLZPfX8nyqifkNrdo4nfrdOvW0zmKVECyJnxbKpcJ3uClLkRRJFxoRdtziZws9ec60FnusZBXRHE9ZhpNbRV1sn3lUdLnh6UpcL3UF22I215UiIY6X1zRvucCa7lUvZ7srGo5yLl5bssyc6VlTi6697pkuHqwrEv+G0vgPOi5fcQ==)
