---
permalink: /Frontend/Vue/pinia/
title: "piniaê¸°ë³¸"
toc: true
categories:
  - FrontendðŸ®Vue
comments: true
sidebar:
  - title: "FrontendðŸ®"
  - nav: "Frontend-menu"
tags:
  - Javascript
  - Frontend
  - Vue
sexy: 1
main: "Vue"
header:
  teaser: ./assets/images/web/vue.jpeg
  overlay_image: ./assets/images/web/vue.jpeg
---


src/main.js
```js
import { createPinia } from 'pinia';

const app = createApp(App);
app.use(createPinia());

```

src/stores/counter.js
```js
import { defineStore } from 'pinia';

export const useCounterStore = defineStore('counter', {
  state: () => ({
    counter: 1,
  }),
  getters: {
    doubleCount: state => state.counter * 2,
    doubleCountPlusOne() {
      return this.doubleCount + 1;
    },
  },
  actions: {
    increament() {
      this.counter++;
    },
  },
});
```

vue
```js
<template>
  {% raw %}
    <p>counter: {{ store.counter }}</p>
    <p>counter2: {{ counter }}</p>
    <p>doubleCount: {{ store.doubleCount }}</p>
    <button @click="store.increament()">Click!!</button>
    <p>doubleCountPlusOne: {{ store.doubleCountPlusOne }}</p>
    <button @click="increament()">Click!!</button>
    {% endraw %}
</template>


import { useCounterStore } from '@/stores/counter';
import { storeToRefs } from 'pinia';
const store = useCounterStore(); // reactive íƒ€ìž…
//const { count } = useCounterStore(); // ë°˜ì‘ì„±ì„ ìžƒëŠ”ë‹¤.
const { counter } = storeToRefs(store);
const { increament } = store; // ë°˜ì‘í˜•ì´ ì•„ë‹ˆë¼ í•¨ìˆ˜ë¼ ê°€ëŠ¥
```

**composable ì‚¬ìš©ì‹œ**
src/composables/counter.js
```js
{% raw %}
import { useCounterStore } from '@/stores/alert';
import { storeToRefs } from 'pinia';

export const useAlert = () => {
  const { counter } = storeToRefs(useAlertStore());
  const { increament } = useAlertStore();
  return {
    counter,
    increament
  };
};
{% endraw %}
```