---
permalink: /Web/Backend/Backend_beginner/pyenv/
title: "pyenv virtualenv ì„¤ì¹˜ ë° ì˜¤ë¥˜í•´ê²°"
toc: true
categories:
  - WebğŸ®Backend
comments: true
sidebar:
  - title: "WebğŸ®"
  - nav: "Web-menu"
tags:
  - Backend_beginner
  - Backend
---
ê²€ìƒ‰ì–´  
- pyenvì—ì„œ ë²„ì „ì„ ë°”ê¿”ë„ íŒŒì´ì¬ ë²„ì „ì€ ë°”ë€Œì§€ ì•ŠëŠ” ë¬¸ì œ/ì˜¤ë¥˜  
- pyenv doesn't change python version mac  
- pyenv python version not changing  
{: .small}

> ì°¸ì¡°  
- [Cannot switch Python with pyenv - Stack Overflow](https://stackoverflow.com/questions/33321312/cannot-switch-python-with-pyenv)
- [pyenv global xxx not changing the python version Â· Issue #849](https://github.com/pyenv/pyenv/issues/849)

pyenvì—ì„œ ì›í•˜ëŠ” ë²„ì „ ì„¤ì¹˜ê°€ [ì˜¤ë¥˜](#3--pyenv-ì—ì„œ-ì›í•˜ëŠ”-ë²„ì „-ì„¤ì¹˜-ì˜¤ë¥˜)ë¥¼ í•´ê²°í•´ê°€ë©´ì„œ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí–ˆë‹¤.
í•˜ì§€ë§Œ pyenvì—ì„œ ë²„ì „ì„ ë°”ê¾¸ì–´ë„ íŒŒì´ì¬ì—ì„œì˜ ë²„ì „ì€ ë°”ë€Œì§€ ì•ŠëŠ” ë¬¸ì œë¥¼ í™•ì¸í–ˆë‹¤. ëŒ€ë¶€ë¶„ ìì‹ ì˜ <ins>ì‰˜íŒŒì¼</ins>[^1] ë§¨ í•˜ë‹¨ì— `eval "$(pyenv init -)"`ë¥¼ ì¶”ê°€í•˜ê³  `source ~/ìì‹ ì˜ì‰˜íŒŒì¼`ë¡œ í•´ê²°ë˜ì§€ë§Œ ë‚˜ëŠ” í•´ê²°ë˜ì§€ì•Šì•˜ë‹¤. 


## ì¬ì„¤ì¹˜
ê²°êµ­ ìµœì¢…ê²°ë¡ ì€ pyenvì¬ì„¤ì¹˜ë¥¼ í•˜ê³ ë‚˜ë”ë‹ˆ ì˜ë˜ì—ˆë‹¤. ì—¬ê¸°ì—ì„œ [ì‰˜íŒŒì¼](https://chanyoung-dev.github.io/Blog/Setting/JekyllInstall/#4-%ED%84%B0%EB%AF%B8%EB%84%90%EC%9D%98-shell%ED%8C%8C%EC%9D%BC%EC%97%90-rbenv%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%A4%EC%A0%95%EC%9D%84-%EC%B6%94%EA%B0%80%ED%95%B4%EC%A4%80%EB%8B%A4)ì€ zshrcë¡œ ê°€ì •í•˜ê² ë‹¤.

### 1 .pyenv ì‚­ì œ
ã…¤


```sh
>brew uninstall pyenv
>vim .zshrc  # .zshrcì—ì„œ pyenv ê´€ë ¨ ì¤„ ì œê±°
```


### 2 . pyenv ì„¤ì¹˜
ã…¤
```sh
>brew install pyenv pyenv-virtualenv
>vim .zhsrc # pyenv ê´€ë ¨ ì¤„ ì¶”ê°€
```

pyenv ê´€ë ¨ ì¤„
```sh
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init --path)"
eval "$(pyenv init -)"
```

ì‰˜ ì ìš©
```sh
>source .zshrc 
```

í˜¹ì‹œ ëª¨ë¥´ë‹ˆê¹Œ
```sh
>brew upgrade pyenv
>exec â€œ$SHELLâ€
```

ì„¤ì¹˜ ì‹œë„
```sh
>pyenv install 3.6.6 
```
í•„ìëŠ” ì—¬ê¸°ì„œ 
`Py_FatalError("abort() called from Python code didn't abort!");`ì™€ `make: *** [Modules/posixmodule.o] Error 1` ì˜¤ë¥˜ê°€ ìƒê²¨ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ë‹¤.

### 3 . pyenv ì—ì„œ ì›í•˜ëŠ” ë²„ì „ ì„¤ì¹˜ ì˜¤ë¥˜  
ã…¤


```sh
>brew reinstall zlib bzip2
>sudo rm -rf /Library/Developer/CommandLineTools
>xcode-select --install
>pyenv update
>source .zshrc 
```

- ì›í•˜ëŠ” ë²„ì „(ì—¬ê¸°ì„œëŠ” 3.6.6)ìœ¼ë¡œ ì„¤ì¹˜  

CFLAGS="-I$(brew --prefix openssl)/include -I$(brew --prefix bzip2)/include -I$(brew --prefix readline)/include -I$(xcrun --show-sdk-path)/usr/include" LDFLAGS="-L$(brew --prefix openssl)/lib -L$(brew --prefix readline)/lib -L$(brew --prefix zlib)/lib -L$(brew --prefix bzip2)/lib" pyenv install --patch **3.6.5** < <(curl -sSL https://github.com/python/cpython/commit/8ea6353.patch\?full_index\=1)
{: .notice--success}

```sh
CFLAGS="-I$(brew --prefix openssl)/include -I$(brew --prefix bzip2)/include -I$(brew --prefix readline)/include -I$(xcrun --show-sdk-path)/usr/include" LDFLAGS="-L$(brew --prefix openssl)/lib -L$(brew --prefix readline)/lib -L$(brew --prefix zlib)/lib -L$(brew --prefix bzip2)/lib" pyenv install --patch 3.6.5 < <(curl -sSL https://github.com/python/cpython/commit/8ea6353.patch\?full_index\=1)
```


[^1]:[ìì‹ ì˜ ì‰˜íŒŒì¼ì€ ë¬´ì—‡ì¼ê¹Œìš”?](https://chanyoung-dev.github.io/Blog/Setting/JekyllInstall/#4-%ED%84%B0%EB%AF%B8%EB%84%90%EC%9D%98-shell%ED%8C%8C%EC%9D%BC%EC%97%90-rbenv%EB%A5%BC-%EC%9C%84%ED%95%9C-%EC%84%A4%EC%A0%95%EC%9D%84-%EC%B6%94%EA%B0%80%ED%95%B4%EC%A4%80%EB%8B%A4)