---
permalink: /Backend/Spring/spring/
title: "μ¤ν”„λ§μ„ μ™ μ‚¬μ©ν•λ”κ°€"
toc: true
categories:
  - Javaπ›Spring
comments: true
sidebar:
  - title: "Javaπ›"
  - nav: "Backend-menu"
tags:
  - Spring
  - Java
sexy: 1
main: "Spring"
header:
  teaser: https://user-images.githubusercontent.com/46098949/173105305-fd5d89b7-12b9-462f-9edf-1d6d0f959511.png
  overlay_image: https://user-images.githubusercontent.com/46098949/173105305-fd5d89b7-12b9-462f-9edf-1d6d0f959511.png
  overlay_filter: 0.5
excerpt: μ¤ν”„λ§μ€ μλ°” ν”„λ μ„μ›ν¬μ΄λ‹¤. κ·Έλ¬λ―€λ΅ μλ°”λ¥Ό λΉΌλ¨Ήμ„μκ°€ μ—†λ”λ° μ΄ μλ°”λ•λ¶„μ— λ‹¤ν•μ„±μ΄ κ°€λ¥ν•κΈ°λ•λ¬Έμ— μ¤ν”„λ§μ„ μ„ νƒν–λ‹¤. λν• μ΄λ¬ν• λ‹¤ν•μ„±μ„ μ μ‚¬μ©ν•λ ¤λ©΄, μ¦‰ μ¤ν”„λ§μ„ μ ν™μ©ν•λ ¤λ©΄ SOLIDμ›μΉ™μ„ μ μ§€μΌμ•Όν•λ‹¤
---


# μ™ λ‹¤λ¥Έ ν”„λ μ„μ›ν¬ λ€μ‹  μ¤ν”„λ§μ„ μ‚¬μ©ν•λ”κ°€?

μ¤ν”„λ§μ€ μλ°” ν”„λ μ„μ›ν¬μ΄λ‹¤. κ·Έλ¬λ―€λ΅ μλ°”λ¥Ό λΉΌλ¨Ήμ„μκ°€ μ—†λ”λ° μ΄ μλ°”λ•λ¶„μ— λ‹¤ν•μ„±μ΄ κ°€λ¥ν•κΈ°λ•λ¬Έμ— μ¤ν”„λ§μ„ μ„ νƒν–λ‹¤. λν• μ΄λ¬ν• λ‹¤ν•μ„±μ„ μ μ‚¬μ©ν•λ ¤λ©΄, μ¦‰ μ¤ν”„λ§μ„ μ ν™μ©ν•λ ¤λ©΄ SOLIDμ›μΉ™μ„ μ μ§€μΌμ•Όν•λ‹¤

κ²°λ΅ μ μΌλ΅ μ¤ν”„λ§μ κ°€μ¥ μ¤‘μ”ν• μ μ€ **λ‹¤ν•μ„±**κ³Ό **SOLID**μ΄λ‹¤

# 1. λ‹¤ν•μ„±

μ¤ν”„λ§μ€ μλ°” μ–Έμ–΄ κΈ°λ°μ ν”„λ μ„μ›ν¬μ΄λ‹¤

μλ°”μ κ°€μ¥ ν° νΉμ§•μ€ **κ°μ²΄ μ§€ν–¥ μ–Έμ–΄**μ΄λ‹¤

## μ μ—°ν•κ³  λ³€κ²½μ΄ μ©μ΄

- κ°μ²΄μ§€ν–¥μ—μ„ κ°€μ¥ μ¤‘μ”ν• μ μ€ **λ‹¤ν•μ„±μ΄λ‹¤**
- μ΄λ¬ν• λ‹¤ν•μ„±λ•λ¶„μ— ν”„λ΅κ·Έλ¨μ„ μ μ—°ν•κ³  λ³€κ²½μ΄ μ©μ΄ν•κ² λ μ μλ‹¤
- μ—­ν• κ³Ό κµ¬ν„μΌλ΅ λ‚λ‰λ”λ° **μ—­ν• μ€ Interface(`MemberRepository`)μ΄κ³  κµ¬ν„μ€ Interface(`MemoryMemberRepository`)μ κµ¬ν„μ²΄**μ΄λ‹¤
- μ—­ν• κ³Ό κµ¬ν„μ μμ‹
    - μ΄μ „μ - ν¬λ¥΄μ‰, μ•„λ°λ–Ό..λ“±λ“±
    - λ΅λ―Έμ¤ - μ¥λ™κ±΄, λ¥μΉλ²”..λ“±λ“±
    - USB - λ§μ°μ¤, ν‚¤λ³΄λ“,, λ“±λ“±
- ν•μ§€λ§ λ‹¤ν•μ„±λ§μΌλ΅λ” DIP, OCPλ¥Ό μ§€ν‚¬μκ°€μ—†μ–΄ DIμ»¨ν…μ΄λ„κ°€ νƒ„μƒν•λ‹¤

## ν΄λΌμ΄μ–ΈνΈμ—κ² μν–¥μ„ μ£Όμ§€ μ•λ”λ‹¤

- ν΄λΌμ΄μ–ΈνΈ(`MemberService`)λ” λ€μƒμ μ—­ν• (μΈν„°νμ΄μ¤)λ§ μ•λ©΄ λλ‹¤
- ν΄λΌμ΄μ–ΈνΈ(`MemberService`)λ” κµ¬ν„ λ€μƒμ λ‚΄λ¶€ κµ¬μ΅°λ¥Ό λ°λΌλ„ λλ‹¤
- ν΄λΌμ–΄μΈνΈ(`MemberService`)λ” κµ¬ν„ λ€μƒμ λ‚΄λ¶€ κµ¬μ΅°κ°€ λ³€κ²½λμ–΄λ„ μν–¥ X
- ν΄λΌμ΄μ–ΈνΈ(`MemberService`)λ” κµ¬ν„ λ€μƒ μμ²΄λ¥Ό λ³€κ²½ν•΄λ„ μν–¥ X ( `MemoryMemberRepository` β†’ `JDBCtemplateMemberRepository` )

## μ¤λ²„λΌμ΄λ”©

- **μ¤λ²„λΌμ΄λ”©**μ΄ μκΈ° λ•λ¬Έμ— λ‹¤ν•μ„±μ΄ κ°€λ¥ν•λ‹¤

![image](https://user-images.githubusercontent.com/46098949/173105305-fd5d89b7-12b9-462f-9edf-1d6d0f959511.png)

- **μ΄λ¬ν• κ°μ²΄ μ§€ν–¥μ λ‹¤ν•μ„± λ•λ¶„μ— ν΄λΌμ΄μ–ΈνΈλ¥Ό λ³€κ²½ν•μ§€ μ•κ³ , μ„λ²„μ κµ¬ν„κΈ°λ¥μ„ μ μ—°ν•κ² λ³€κ²½ κ°€λ¥**

### μ¤ν”„λ§μ—μ„ ?

- μ¤ν”„λ§μ—μ„  λ‹¤ν•μ„±μ„ ν™μ©ν• μ μ–΄μ μ—­μ „(IoC), μμ΅΄κ΄€κ³„ μ£Όμ…(DI)λ¥Ό μ‚¬μ©ν•μ—¬ κµ¬ν„μ„ νΈλ¦¬ν•κ² λ‹¤λ£°μ μλ„λ΅ μ§€μ›ν•λ‹¤.
- μ¦‰ λ κ³  λΈ”λ­ μ΅°λ¦½ν•λ“―μ΄ κµ¬ν„μ„ νΈλ¦¬ν•κ² λ³€κ²½ν•  μ μλ‹¤.

# 2. μΆ‹μ€ κ°μ²΄ μ§€ν–¥ μ„¤κ³„μ 5κ°€μ§€ μ›μΉ™ : SOLID

κΈ°μ΅΄

```java
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository = MemoryMemberRepository;
    private final DiscountPolicy discountPolicy = new RateDiscountPolicy;

    ...
}
```

AppConfig μ μ©

```java
public class OrderServiceImpl implements OrderService {

    private final MemberRepository memberRepository;
    private final DiscountPolicy discountPolicy;

    public OrderServiceImpl(MemberRepository memberRepository, DiscountPolicy discountPolicy) {
        this.memberRepository = memberRepository;
        this.discountPolicy = discountPolicy;
    }
		...
}
```

```java
public class AppConfig {

    ...

    public OrderService orderService() {
        return new OrderServiceImpl(
                memberRepository(),
                discountPolicy());
    }

    public MemberRepository memberRepository() {
        return new MemoryMemberRepository();
    }
    public DiscountPolicy discountPolicy() {
        return new RateDiscountPolicy();
    }

}
```

### κµ¬μ„± ν΄λμ¤(AppConfig)

**IoC**

- ν”„λ΅κ·Έλ¨μ— λ€ν• μ μ–΄ νλ¦„ λ° μΈμ¤ν„΄μ¤ μƒμ„±μ— λ€ν• κ¶ν• μ¦‰, μ„¤μ • μ •λ³΄λ¥Ό κ°–λ” ν΄λμ¤
- μ΄λ ‡κ² ν΄λΌμ΄μ–ΈνΈ κµ¬ν„ κ°μ²΄κ°€ ν”„λ΅κ·Έλ¨μ μ μ–΄ νλ¦„μ„ μ§μ ‘ μ μ–΄ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μ™Έλ¶€μ—μ„ κ΄€λ¦¬ν•λ” κ²ƒμ΄ **Ioc(μ μ–΄μ μ—­μ „)**

**DI**

- AppConfigλ” DI μ»¨ν…μ΄λ„μ΄λ‹¤
- DI(Dependency Injection)μ€ νΉμ •ν• κΈ°λ¥μ„ κµ¬ν„ν•λ” κ°μ²΄κ°€ λ‹¤λ¥Έ ν΄λμ¤μ™€μ μμ΅΄ κ΄€κ³„λ¥Ό μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•κ³ , μ‹¤μ  μ–΄λ–¤ ν΄λμ¤ κµ¬ν„ κ°μ²΄κ°€ μ‚¬μ©λ μ§€ λ¨λ¥Έλ‹¤λ” κ²ƒμ„ μλ―Έν•λ‹¤
- μ¦‰ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ³€κ²½ν•μ§€μ•κ³ , DI μ»¨ν…μ΄λ„λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈκ°€ νΈμ¶ν•λ” λ€μƒμ νƒ€μ… μΈμ¤ν„΄μ¤λ¥Ό λ³€κ²½ν•  μ μλ‹¤

μ¦‰, κ°μ²΄λ¥Ό μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ©΄μ„ μμ΅΄κ΄€κ³„λ¥Ό μ—°κ²°ν•΄ μ£Όλ” κ²ƒμ„ **DI μ»¨ν…μ΄λ„**λΌκ³ ν•λ‹¤

## SRP

### ν• ν΄λμ¤λ” ν•λ‚μ μ±…μ„λ§ κ°€μ Έμ•Όν•λ‹¤

- κµ¬ν„ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” μ±…μ„, μ¦‰ κµ¬μ„± λ‹¨κ³„λ” AppConfig ν΄λμ¤
- ν΄λΌμ΄μ–ΈνΈ κ°μ²΄λ” μ‹¤ν–‰ν•λ” μ±…μ„λ§ λ‹΄λ‹Ή

## DIP

### **μ¶”μƒν™”μ— μμ΅΄ν•΄μ•Όμ§€, κµ¬μ²΄ν™”μ— μμ΅΄ν•λ©΄ μ•λλ‹¤**

- ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•΄μ•Όν•λ‹¤
- ν•μ§€λ§ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ” μΈν„°νμ΄μ¤λ§μΌλ΅λ” μ•„λ¬΄κ²ƒλ„ μ‹¤ν–‰ν•  μ μ—†λ‹¤
- Appconfig(μ–΄ν”λ¦¬μΌ€μ΄μ… κµ¬μ„±νμΌ)μ„  κµ¬μ„±ν•μ—¬ κ°μ²΄μΈμ¤ν„΄μ¤λ¥Ό μ§μ ‘ μƒμ„±ν•κ³ , ν΄λΌμ΄μ–ΈνΈ μ½”λ“μ— μμ΅΄κ΄€κ³„λ¥Ό μ£Όμ…ν•λ‹¤

## OCP

### μ†ν”„νΈμ›¨μ–΄ μ”μ†λ” ν™•μ¥μ—λ” μ—΄λ ¤ μμΌλ‚ λ³€κ²½μ—λ” λ‹«ν€ μμ–΄μ•Ό ν•λ‹¤

- AppConfigμ—μ„ `FixDiscountPolicy` β†’ `RateDiscountPolicy` λ΅ λ³€κ²½ν• λ• ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό κ±΄λ“¤μ§€ μ•κ³ (=λ³€κ²½μ—λ” λ‹«ν€μμ) λ”°λ΅ κµ¬μ„± μμ—­μ„ λ‹΄λ‹Ήν•λ” μ„¤μ • ν΄λμ¤λ¥Ό λ§λ“¤μ–΄ μ†ν”„νΈμ›¨μ–΄ μ”μ†λ¥Ό μƒλ΅­κ² ν™•μ¥ν•  μκ°€ μλ‹¤.
- **μ†ν”„νΈμ›¨μ–΄ μ”μ†λ¥Ό μƒλ΅­κ² ν™•μ¥ν•μ—¬λ„ μ‚¬μ© μμ—­(ν΄λΌμ΄μ–ΈνΈ)λ” λ³€ν•μ§€ μ•λ”λ‹¤**