---
permalink: /CS/Network/supnetting/
title: "서브네팅 실전"
toc: true
categories:
  - CS🐰Network
comments: true
sidebar:
  - title: "CS🐰"
  - nav: "CS-menu"
excerpt: >
  "서브네팅, 슈퍼네팅"
tags:
  - Network
list_name:
  - Network
---

# IP 네트워크 정보

- #### 1.0.0.0 네트워크

네트워크의 범위 - 1.0.0.0 ~ 1.255.255.255  
네트워크 주소 : 1.0.0.0  
브로드캐스트 주소 : 1.255.255.255  
호스트 갯수 : 2^(32-8)-2 = 2^24 -2  

- #### 129.0.0.0 네트워크

네트워크의 범위  - 129.0.0.0 ~ 129.0.255.255  
네트워크 주소 : 129.0.0.0  
브로드캐스트 주소 : 129.0.255.255  
호스트 갯수 : 2^(32-16)-2 = 2^16 -2  

- #### 192.168.10.0 네트워크

네트워크의 범위  - 192.168.10.0 ~ 192.168.10.255  
네트워크 주소 : 192.168.10.0  
브로트캐스트 주소 : 192.168.10.255  
호스크 갯수 : 2^(32-24)-2 = 2^8 -2 = 256-2 = 254  


## classless address 
클래스의 개념이 없어짐  

- 서브넷팅<sup>supnetting</sup> : 네트워크를 쪼갬
- 슈퍼넷팅<sup>supernetting</sup> : 네트워크를 합침

서브넷팅은 prefix를 이용해서 함.

- ### host 갯수
2^(32-prefix)-2

- ### network 갯수
2^(prefix-default prefix)

- ### network 구간
256/2^(prefix-default prefix)


## 서브네팅
### 100.0.0.0 / 9
1. 맨 앞 숫자로 무슨 클래스인지 확인
   - 100은 A클래스이다
   - 0~126 : A클래스
   - 127~191 : B클래스
   - 192~223 : C클래스
2. A클래스의 prefix는 8이 기준이다
   - 8보다 기준이 큰 /9 이기때문에 서브네팅이다.
   - 원래 A클래스의 서브넷 마스크는 1111111.000000.0000000.0000000 이다
   - 서브네팅을 했기때문에 서브넷 마스크는 9를 보면 1이 9개라는 것이고 1111111.10000000.00000000.00000000 이다.
3.  네트워크 갯수 확인
    - A클래스이므로 default prefix = 8
    - 2<sup>9-8<sup> = 2<sup>1</sup>
    - 즉, 2개이다
4. 네트워크 구간 확인
   - prefix(9)보다 작은 (8,16,24) 중에서 제일 큰 수 : default prefix
   - 즉 default prefix = 8 이다
   - 256/2<sup>9-8<sup> = 128이다
   - default prefix가 8 이면 X.X.X.X 에서 2번째 X를 증가시켜준다
   - default prefix가 16 이면 X.X.X.X 에서 3번째 X를 증가시켜준다
   - default prefix가 24 이면 X.X.X.X 에서 4번째 X를 증가시켜준다
   - 즉, 기존 A클래스에서 서브네팅을 하여 한단계만(8~15) 하면 2번째/ 2단계면(16~23) 3번째 / 3단계면(24~) 4번째
   - 구간1 : 100.0.0.0 ~ 100.127.255.255
   - 구간2 : 100.128.0.0 ~ 100.255.255.255
5. 호스트 갯수
   - 구간안에서의 숫자이다
   - 예를 들면 구간 1에서보면 호스트 갯수는 100.127.255.255 - 100.0.0.0 의 갯수들이다
   - 2<sup>32-9</sup> = 2<sup>23</sup>개 - 2(네트워크주소, 브로드캐스트주소)

### 100.0.0.0 / 25인 경우
  1. 네트워크 갯수
    - 2<sup>25-8<sup>개


  2. 네트워크 구간  
    - (8,16,24) 중 25보다 작지만 제일 큰수 = 24  
    - 256/2<sup>25-24</sup> = 128  
    - default prefix가 24이기때문에 X.X.X.X 에서 4번째 X를 증가  
      - 100.0.0.0 ~ 100.0.0.127  
      - 100.0.0.128 ~ 100.0.0.255  
      - 100.0.1.0 ~ 100.0.1.255  
      - 100.0.1.128 ~ 100.0.1.255  
      - 100.0.2.0 ~ 100.0.2.127  
      - ...  
      - ...  
      - 100.255.255.128 ~ 100.255.255.255  

  3. 호스트 갯수
    - 2<sup>32-25</sup>= 2<sup>7</sup>


## 슈퍼네팅
### 128.10.0.30 / 15 가 속한 구간
  1. 맨 앞 숫자로 무슨 클래스인지 확인
    - 128은 B클래스
  2. 서브넷마스크
     - 1의 갯수 15개이므로 11111111.11111110.00000000.000000000
  3. 네트워크 갯수 확인
     - 2<sup>15-8<sup>
  4. 네트워크 구간 확인
     - 2<sup>15-8<sup>
     - 256/2<sup>7</sup> = 2
      - 128.0.0.0 ~ 128.1.255.255
      - 128.2.0.0 ~ 128.2.255.255
      - ...
      - 128.10.0.0 ~ 128.11.255.255 <- 속해있다
      - ...
      - ...
      - 128.254.0.0 ~ 128.255.255.255



   

## 실전
1 .  [9.95.255.255 / 10 은 호스트 주소 사용 가능?](#1--995255255--10-은-호스트-주소-사용-가능)  
2 . [172.100.0.0 / 16을 130명씩 그룹을 나눌 수 있도록 서브넷팅하고 172.100.40.5 주소가 속한 네트워크 구간을 작성하시오.](#2--17210000--16을-130명씩-그룹을-나눌-수-있도록-서브넷팅하고-172100405-주소가-속한-네트워크-구간을-작성하시오)  
3 . [128.10.0.30 / 15 가 속한 네트워크 구간을 작성하시오.](#3--12810030--15-가-속한-네트워크-구간을-작성하시오---슈퍼넷팅)  
4 . [8.0.0.0 / 11 의 모든 네트워크 구간을 적으시오. ](#4--8000--11-의-모든-네트워크-구간을-적으시오)  
5 . [192.168.100.0 / 24 => 4090명 의 사람이 사용할 수 있도록 슈퍼넷팅하시오.](#5--1921681000--24--4090명-의-사람이-사용할-수-있도록-슈퍼넷팅하시오)  
6 . [100.0.0.0 / 24 인 경우 100.100.30.20의 네트워크 구간은?](#6--100000--24-인-경우-1001003020의-네트워크-구간은)  
7 . [172.100.0.0 /16 를 8100 명이 쓸수 있는 네트워크 하나 2000 명이 쓸 수 있는 네트워크 2개 120명이 쓸 수 있는 네트워크 4개를 만들어 보시오.](#7--17210000-16-를-8100-명이-쓸수-있는-네트워크-하나-4000-명이-쓸-수-있는-네트워크-2개-120명이-쓸-수-있는-네트워크-4개를-만들어-보시오)  



## 해설
### 1 . 9.95.255.255 / 10 은 호스트 주소 사용 가능?


- 네트워크 갯수  
2^(10-8) = 2^2 =4  
- 기존  
9.0.0.0/8  
``` 
9.0.0.0 ~ 9.255.255.255 
``` 
- 네트워크 구간  
  256/4 = 64  

  - /10 구간
  ```
  /10
  9.0.0.0 ~ 9.63.255.255  
  9.64.0.0 ~ 9.127.255.255  
  9.128.0.0 ~ 9.191.255.255  
  9.192.0.0 ~ 9.255.255.255  
  ```
  - 만약 /11 이었다면?
    - 네트워크 갯수  
      2^(11-8) = 2^3 = 8  
      256/8 = 32  
    - 네트워크 구간 
      ```
      9.0.0.0 ~ 9.31.255.255  
        32  
      9.64.0.0 ~ 9.95.255.255 <- 브로드캐스트 주소이기때문에 사용 불가능  
        96  
        128  
        160  
        192  
        224  
      ```


### 2 . 172.100.0.0 / 16을 130명씩 그룹을 나눌 수 있도록 서브넷팅하고 172.100.40.5 주소가 속한 네트워크 구간을 작성하시오.
- 호스트 갯수  
/24 => 256-2  
/25 => 128-2  
즉, /24로 해야한다  
- 네트워크 구간  
172.100.0.0 /24   
```
172.100.0.0 ~ 172.100.0.255
172.100.1.0 ~ 172.100.1.255
172.100.2.0 ~ 172.100.2.255
.
.
.
172.100.40.0 ~ 172.100.40.255
```


### 3 . 128.10.0.30 / 15 가 속한 네트워크 구간을 작성하시오.  => 슈퍼넷팅  

>128로 시작하면 B 클래스인데 /15는 B 클래스를 넘어감으로 슈퍼넷팅으로 해줘야 함  
>가상의 A클래스로 전환  


- 기존
128.0.0.0 /8  
128.0.0.0 ~ 128.255.255.255  
- 슈퍼넷팅  
  - 네트워크 갯수  
    ^(15-8) = 2^7 = 128   
  - 네트워크 구간  
    256/128 = 2   
    ```
    128.0.0.0 ~ 128.1.255.255
    128.2.0.0 ~ 128.2.255.255
    .
    .
    128.10.0.0 ~ 128.11.255.255
    ```

### 4 . 8.0.0.0 / 11 의 모든 네트워크 구간을 적으시오.  
- 기존  
8.0.0.0 /8    
8.0.0.0 ~ 8.255.255.255  
- 서브네팅  
  - 네트워크 갯수  
    2^(11-8) = 2^3 = 8
  - 네트워크 구간  
    256/8 = 32  
    ```
    8.0.0.0 ~ 8.31.255.255
      32        63
      64        95
      96        127
      128       159
      160       191
      192       223
      224       255
    ```

### 5 . 192.168.100.0 / 24 => 4090명 의 사람이 사용할 수 있도록 슈퍼넷팅하시오.
- 호스트 갯수 구하기  
/24 => 256-2  
/23 => 512-2  
/22 => 1024-2  
/21 => 2048-2  
/20 => 4096-2  
> /20이다  
>가상의 B 클래스를 기준으로 만듬

- 기존  
192.168.0.0 /16  
192.168.0.0 ~ 192.168.255.255  
- 서브네팅  
  - 네트워크 갯수  
    2^(20-16) = 2^4 = 16
  - 네트워크 구간  
    256/16 = 16  
    ```
    192.168.0.0 ~ 192.168.15.255
            16            31
            32            47
            48            63
            64            79
            80            95
    192.168.96.0 ~192.168.111.255 => 192.168.96.0 /20
            112
    ```

### 6 . 100.0.0.0 / 24 인 경우 100.100.30.20의 네트워크 구간은?  
100이므로 A클래스이다
- 네트워크 갯수  
  2<sup>24-8<sup>  
- 네트워크 구간  
  - 256/2<sup>24-24<sup> = 256  
  - 100.0.0.0 ~ 100.0.0.255
  - 100.0.1.0 ~ 100.0.1.255
  - ...
  - 100.100.30.0 ~ 100.100.30.255 <- 이구간
  - ...
  - ..
  - 100.255.0.0 ~ 100.255.255.255

### 7 . 172.100.0.0 /16 를 8100 명이 쓸수 있는 네트워크 하나 4000 명이 쓸 수 있는 네트워크 2개 120명이 쓸 수 있는 네트워크 4개를 만들어 보시오.

- prefix구하기
```
/24 => 256-2
/23 => 512-2
/22 => 1024-2
/21 => 2048-2
/20 => 4096-2
/19 => 8192-2
```

- 1 . /19
```
172.100.0.0 ~ 172.100.31.255 => 8100명
```

- 2 . /21
```
172.100.32.0 ~ 172.100.39.255 => 4000명
172.100.40.0 ~ 172.100.47.255 => 4000명
```

- 3 . /25
```
172.100.48.0 ~ 172.100.48.127 => 120명
172.100.48.128 ~ 172.100.48.255 => 120명
172.100.49.0 ~ 172.100.49.127 => 120명
172.100.49.128 ~ 172.100.49.255 => 120명
```