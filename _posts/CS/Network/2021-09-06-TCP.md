---
permalink: /CS/Network/TCP/
title: "TCP Protocol ë™ì‘ê³¼ì •"
toc: true
categories:
  - CSğŸ°Network
comments: true
sidebar:
  - title: "CSğŸ°"
  - nav: "CS-menu"
excerpt: >
  "3way/4way handshaking"
tags:
  - Network
list_name:
  - Network

sexy: 1
main: "Network"
---

# ì¡°ê±´
> client(ì´í•˜ C) (seq: 3000)  
> server(ì´í•˜ S) (seq: 4000)  
> íŠ¹ìˆ˜ë¬¸ìì™€ ë„ì–´ì“°ê¸°ëŠ” ì¼ë°˜ë¬¸ì ì·¨ê¸‰  
> ì¢…ë£ŒëŠ” servert ê°€ clientì—ê²Œ ìš”ì²­í•¨  

## ë¬¸ì œ
> C -> S hello  
> C <- S hi  
> C -> S bye  
> C <- S bye  
 

## í’€ì´


## ì—°ê²°
- ### 3-way handshaking


| ë°©í–¥  | ì‹ í˜¸                     | C ìƒíƒœë³€í™” | S ìƒíƒœë³€í™” |
|:------:|:--------------------:|:--------:|:--------:|
| C -> S | sequence(3000) | syn_sent  | |
| C <- S | syn(4000) ack(3001)  |    | syn_received |
| C -> S | ack(4001) | establish | establish |


## ì „ì†¡


| ë°©í–¥   | ë°ì´í„°   | ì‹ í˜¸             | ë¹„ê³  |
|:------:|:---------:|:-----------:|:-:|
| C -> S | hello | push(3001) ack(4001) |   |
| C <- S | | ack(3007)  |    3001 -> 3007 6ì´ ëŠ˜ì–´ë‚œ ì´í›„ëŠ” helloëŠ” 5ê¸€ìì´ë©° ìë™ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ì¼ë ¨ë²ˆí˜¸ë•Œë¬¸ì— 5+1 = 6|
| C <- S | hi |ack(4001) ack(3007) | |
| C -> S |  | ack(4004) |  |
| C -> S | bye | push(3007) ack(4004)  | |
| C <- S |  | ack(3011) | |
| C <- S |  bye | push(4004) ack(3011) | |
| C -> S |   | ack(408) | |


## ì—°ê²°í•´ì œ
- ### 4-way handshaking


| ë°©í–¥       | ë°ì´í„°                     | C ìƒíƒœë³€í™” | S ìƒíƒœë³€í™” |
|:------:|:--------------------:|:--------:|:--------:|
| C <- S | fin(4008) ack(3011) |  closed_wait | fin_wait1 |
| C -> S | ack(4009)  |    | fin_wait2 |
| C -> S | fin(3011) ack(4009) | last_ack |  |
| C <- S | ack(3012) |   | time_wait |
|   |  |  time_waitê°€ ë˜ë©´ closed |  |
| |  |    | ê¸°ë‹¤ë¦¬ë‹¤ê°€ closed |

