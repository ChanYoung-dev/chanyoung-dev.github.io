---
permalink: /Cloud/AWS/EBS
title: "AWS - EBS"
toc: true
categories:
  - CloudğŸ¦AWS
comments: true
sidebar:
  - title: "CloudğŸ¦"
  - nav: "Cloud-menu"
tags:
  - AWS
sexy: 1
main: "AWS"
list_name:
  - AWS
header:
  teaser: EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled.png
  overlay_image: EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled.png
  overlay_filter: 0.5
excerpt: ec2ì™€ ebs ì—°ê²°
---

<span style = "font-size:1.5em;  font-weight: 700;">ec2ìš© í•˜ë“œë””ìŠ¤í¬</span><br>
<abbr title="" id="Elastic Block Storage">Amazon EBS</abbr>ëŠ” EC2ì— ì—°ê²°ë˜ëŠ” Block Levelì˜ ìŠ¤í† ë¦¬ì§€ ì„œë¹„ìŠ¤ì´ë‹¤  
EBSì˜ ì¢…ë¥˜ëŠ” í¬ê²Œ 5ê°€ì§€ì´ë‹¤ ë˜í•œ <abbr title="" id="Snapshot">ìŠ¤ëƒ…ìƒ·</abbr> ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ë°±ì—… ë° ë³´ê´€ì´ë‚˜ ê³µìœ , í¬ê¸° ì¡°ì •ì„ í•  ìˆ˜ ìˆë‹¤.  
EBSë¥¼ ì§ì ‘ ì‚¬ìš©í•´ë³´ì
{: .notice--primary}

# EC2ì¸ìŠ¤í„´ìŠ¤ì™€ EBS ìŠ¤í† ë¦¬ì§€ ì—°ê²°

EC2 ëŒ€ì‹œë³´ë“œ â†’ ë³¼ë¥¨ í´ë¦­

ë³¼ë¥¨ì„¤ì •

![Untitled]({{site.baseurl}}/_posts/Cloud/AWS/ebs/Untitled.png)

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%201.png)

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%202.png)

ì´í›„ ì›í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ì™€ ì—°ê²°

```sh
[ec2-user@ip-172-31-4-45 ~]$ lsblk
NAME    MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
xvda    202:0    0   8G  0 disk 
â””â”€xvda1 202:1    0   8G  0 part /
xvdf    202:80   0  10G  0 disk <- ë³¼ë¥¨ì´ mount
```
ì—°ê²°í™•ì¸

# ë³¼ë¥¨ì„ ë§ˆìš´íŠ¸í•˜ê¸°

- íŒŒí‹°ì…˜ìƒì„± â†’ íŒŒì¼ì‹œìŠ¤í…œ EXT4 â†’ `/home/ec2-user/backup` ì— ë§ˆìš´íŠ¸í•˜ê¸°
- ec2 ì¬ë¶€íŒ… í›„ì—ë„ mount ë ìˆ˜ìˆë„ë¡ ì„¤ì •

### 1. íŒŒí‹°ì…”ë‹

```sh
[root@ip-172-31-4-45 ec2-user]# parted /dev/xvdf
GNU Parted 3.1
Using /dev/xvdf
Welcome to GNU Parted! Type 'help' to view a list of commands.
(parted) print                                                            
Error: /dev/xvdf: unrecognised disk label
Model: Xen Virtual Block Device (xvd)                                     
Disk /dev/xvdf: 10.7GB
Sector size (logical/physical): 512B/512B
Partition Table: unknown
Disk Flags: 
(parted) mklabel
New disk label type? ext4                                                 
parted: invalid token: ext4
New disk label type? msdos
(parted) mkpart                                                           
Partition type?  primary/extended? p                                      
File system type?  [ext2]? ext4                                           
Start? 0%                                                                 
End? 10%                                                                  
(parted) print                                                            
Model: Xen Virtual Block Device (xvd)
Disk /dev/xvdf: 10.7GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start   End     Size    Type     File system  Flags
 1      1049kB  1074MB  1073MB  primary

(parted) q
```

### íŒŒí‹°ì…˜ ì ìš©
`udevadm settle`

### íŒŒí‹°ì…˜ í™•ì¸
```sh
[root@ip-172-31-4-45 ec2-user]# lsblk
NAME    MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
xvda    202:0    0    8G  0 disk 
â””â”€xvda1 202:1    0    8G  0 part /
xvdf    202:80   0   10G  0 disk 
â””â”€xvdf1 202:81   0 1023M  0 part
```

<aside>
â— ì•ˆë ê²½ìš° : `partprobe`

</aside>

## 2. íŒŒì¼ì‹œìŠ¤í…œ ì ìš©

```bash
[root@ip-172-31-4-45 ec2-user]# mkfs.ext4 /dev/xvdf1
```

íŒŒì¼ì‹œìŠ¤í…œ í™•ì¸

```bash
[root@ip-172-31-4-45 ec2-user]# lsblk --fs
NAME    FSTYPE LABEL UUID                                 MOUNTPOINT
xvda                                                      
â””â”€xvda1 xfs    /     06125c3b-73ea-4eba-8864-cfe947246ba7 /
xvdf                                                      
â””â”€xvdf1 ext4         3aa49ce7-ac25-4152-abec-a904bbcef700
```

## 3. ë§ˆìš´íŠ¸

ë§ˆìš´íŠ¸í•  ë””ë ‰í„°ë¦¬ ìƒì„± í›„ ë§ˆìš´íŠ¸

```bash
[root@ip-172-31-4-45 ec2-user]# mkdir /home/ec2-user/backup
[root@ip-172-31-4-45 ec2-user]# mount /dev/xvdf1 /home/ec2-user/backup
```

ì˜êµ¬ì„¤ì •ì„ ìœ„í•´ ë§ˆìš´íŠ¸

`[root@ip-172-31-4-45 ec2-user]# vim /etc/fstab`

```bash
/dev/xvdf1 /mnt/data4 xfs defaults 0 0
```

ì¬ë¶€íŒ…í›„ ë§ˆìš´íŠ¸ í™•ì¸

```bash
[ec2-user@ip-172-31-4-45 ~]$ mount | grep xvdf1
/dev/xvdf1 on /home/ec2-user/backup type ext4 (rw,relatime)
```

# í•˜ë‚˜ì˜ ë³¼ë¥¨ì„ ë‹¤ë¥¸ ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²°í•´ë³´ì

## ì´ˆê¸°í™” ì‘ì—…

ë³¼ë¥¨ ë¶„ë¦¬

ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì— ë³¼ë¥¨ì—°ê²° í›„ ë§ˆìš´íŠ¸

```bash
[root@ip-172-31-11-248 html]# lsblk --fs #ë§ˆìš´íŠ¸í™•ì¸
NAME    FSTYPE LABEL UUID                                 MOUNTPOINT
xvda                                                      
â””â”€xvda1 xfs    /     06125c3b-73ea-4eba-8864-cfe947246ba7 /
xvdf                                                      
â””â”€xvdf1 ext4         3aa49ce7-ac25-4152-abec-a904bbcef700 #ë§ˆìš´íŠ¸ì—†ë‹¤
[root@ip-172-31-11-248 html]# sudo mkdir /home/ec2-user/backup2/ 
[root@ip-172-31-11-248 html]# sudo mount /dev/xvdf1 /home/ec2-user/backup2/
[root@ip-172-31-11-248 html]# lsblk --fs
NAME    FSTYPE LABEL UUID                                 MOUNTPOINT
xvda                                                      
â””â”€xvda1 xfs    /     06125c3b-73ea-4eba-8864-cfe947246ba7 /
xvdf                                                      
â””â”€xvdf1 ext4         3aa49ce7-ac25-4152-abec-a904bbcef700 /home/ec2-user/backup2
```

í™•ì¸í›„ umount

```bash
[root@ip-172-31-11-248 html]# umount /home/ec2-user/backup2/
[root@ip-172-31-11-248 html]# lsblk --fs
NAME    FSTYPE LABEL UUID                                 MOUNTPOINT
xvda                                                      
â””â”€xvda1 xfs    /     06125c3b-73ea-4eba-8864-cfe947246ba7 /
xvdf                                                      
â””â”€xvdf1 ext4         3aa49ce7-ac25-4152-abec-a904bbcef700
```

í•´ë‹¹ë³¼ë¥¨ ìš°í´ë¦­í›„ ë³¼ë¥¨ë¶„ë¦¬í´ë¦­

## ìŠ¤ëƒ…ìƒ· ìƒì„±

í•´ë‹¹ ë³¼ë¥¨ ìš°í´ë¦­ í›„ ìŠ¤ëƒ…ìƒ· ìƒì„±

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%203.png)

íƒ­ì—ì„œ ìŠ¤ëƒ…ìƒ·ìƒì„±(ì˜ì–´ë§Œê°€ëŠ¥)

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%204.png)

ìŠ¤ëƒ…ìƒ· íƒ­ìœ¼ë¡œ ì´ë™ í›„ ì‘ì—…ì—ì„œ ë¹ ë¥¸ ìŠ¤ëƒ…ìƒ· ë³µì›ê´€ë¦¬ í´ë¦­

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%205.png)

ì›í•˜ëŠ” ê°€ìš©ì˜ì—­ ì„¤ì •

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%206.png)

## í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ 2cê°€ìš©ì˜ì—­ì— ìƒì„±

ì ìš©í™•ì¸ì„ ìœ„í•´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±

ì„œë¸Œë„·ì—ì„œ ì•„ë˜ì²˜ëŸ¼ ì„¤ì •(ì„œë¸Œë„· ê°’ì„ `ap-northeast-2c`ë¡œ ì„¤ì •)

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%207.png)

ê³„ì† ë‹¤ìŒ í´ë¦­ í›„ ìƒì„±

## ìŠ¤ëƒ…ìƒ·ì„ ì´ìš©í•˜ì—¬ ë³¼ë¥¨ìƒì„±

ìŠ¤ëƒ…ìƒ· íƒ­ì—ì„œ ìŠ¤ëƒ…ìƒ·ì—ì„œ ë³¼ë¥¨ìƒì„± í´ë¦­

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%208.png)

ê°€ìš©ì˜ì—­ì„ 2cë¡œ ì„¤ì •

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%209.png)

ë³¼ë¥¨íƒ­ì—ì„œ ìƒì„±ëœ ê²ƒì„ í™•ì¸í• ìˆ˜ìˆë‹¤

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%2010.png)

## ì¸ìŠ¤í„´ìŠ¤ì™€ ë³¼ë¥¨ ì—°ê²°

ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤(2c)ì™€ ë³¼ë¥¨ì„ ì—°ê²°í•´ë³´ì

ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ì˜ ë³¼ë¥¨ìƒíƒœ

```sh
[ec2-user@ip-172-31-32-57 ~]$ lsblk --fs
NAME    FSTYPE LABEL UUID                                 MOUNTPOINT
xvda                                                      
â””â”€xvda1 xfs    /     06125c3b-73ea-4eba-8864-cfe947246ba7 /
```

ë³¼ë¥¨íƒ­ì—ì„œ ìŠ¤ëƒ…ìƒ·ìœ¼ë¡œ ë§Œë“  ë³¼ë¥¨ì„ ìš°í´ë¦­í›„ ë³¼ë¥¨ ì—°ê²° í´ë¦­

![Untitled](EBS%2042fa7d1f467b4ede995cb1486890db28/Untitled%2011.png)

ì¸ìŠ¤í„´ìŠ¤ì™€ ì—°ê²°

ì¸ìŠ¤í„´ìŠ¤ì—ì„œ í™•ì¸

```sh
[ec2-user@ip-172-31-32-57 ~]$ lsblk --fs
NAME    FSTYPE LABEL UUID                                 MOUNTPOINT
xvda                                                      
â””â”€xvda1 xfs    /     06125c3b-73ea-4eba-8864-cfe947246ba7 /
xvdf                                                      
â””â”€xvdf1 ext4         3aa49ce7-ac25-4152-abec-a904bbcef700
```